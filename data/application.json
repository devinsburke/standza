{
  "Parameters": {
    "work_day_minimum": {
      "Label": "Required work hours per day",
      "DataType": "timespan",
      "DefaultValue": "8",
      "DefaultInterval": "hour"
    },
    "away_frequency": {
      "Label": "Desired break frequency",
      "DataType": "timespan",
      "DefaultValue": "2",
      "DefaultInterval": "hour"
    },
    "away_now_maximum": {
      "Label": "Desired break length",
      "DataType": "timespan",
      "DefaultValue": "15",
      "DefaultInterval": "minute"
    },
    "stand_day_minimum": {
      "Label": "Desired hours standing per day",
      "DataType": "timespan",
      "DefaultValue": "8",
      "DefaultInterval": "hour"
    },
    "stand_frequency": {
      "Label": "Desired standing frequency",
      "DataType": "timespan",
      "DefaultValue": "2",
      "DefaultInterval": "hour"
    },
    "stand_now_maximum": {
      "Label": "Desired standing duration",
      "DataType": "timespan",
      "DefaultValue": "2",
      "DefaultInterval": "hour"
    }
  },

  "Triggers": {
    "worked-day-minimum": {
      "Conditions": [
        {
          "Function": "is_state",
          "Arguments": ["stand", "sit"],
          "Operator": "equal",
          "Comparison": true
        },
        {
          "Function": "daily_time",
          "Arguments": ["stand", "sit"],
          "Operator": "greaterThanOrEqual",
          "Comparison": "work_day_minimum"
        }
      ],
      "Alert": "Congratulations! You have finished your {work_day_minimum} work day.",
      "Targets": ["away"],
      "Achieves": []
    },
    "stood-day-minimum": {
      "Conditions": [
        {
          "Function": "is_state",
          "Arguments": ["stand", "sit"],
          "Operator": "equal",
          "Comparison": true
        },
        {
          "Function": "daily_time",
          "Arguments": ["stand", "sit"],
          "Operator": "greaterThanOrEqual",
          "Comparison": "stand_day_minimum"
        }
      ],
      "Alert": "Congratulations! You have stood for at least {stand_day_minimum}. You may now sit down.",
      "Targets": ["stand", "sit"],
      "Achieves": []
    },
    "cannot-work-day-minimum": {
      "Conditions": [
        {
          "Function": "maximum_daily_time",
          "Arguments": ["stand", "sit"],
          "Operator": "lessThanOrEqual",
          "Comparison": "work_day_minimum"
        }
      ],
      "Alert": "Attention. You will not finish working by {day_end_time} unless you stay at your desk for the rest of the day.",
      "Targets": ["stand", "sit"],
      "Achieves": []
    },
    "failed-work-day-minimum": {
      "Conditions": [
        {
          "Function": "daily_time",
          "Arguments": ["stand", "sit"],
          "Operator": "lessThanOrEqual",
          "Comparison": "work_day_minimum"
        },
        {
          "Function": "from_schedule",
          "Arguments": ["day_end_time"],
          "Operator": "lessThanOrEqual",
          "Comparison": "now"
        }
      ],
      "Alert": "Attention. It is now after {day_end_time} but you have not worked a full {work_day_minimum}. If you continue working, you will be notified when they are met.",
      "Targets": ["stand", "sit"],
      "Achieves": []
    },
    "failed-stand-day-minimum": {
      "Conditions": [
        {
          "Function": "is_state",
          "Arguments": ["stand", "sit"],
          "Operator": "equal",
          "Comparison": true
        },
        {
          "Function": "daily_time",
          "Arguments": ["stand"],
          "Operator": "lessThanOrEqual",
          "Comparison": "stand_day_minimum"
        },
        {
          "Function": "from_schedule",
          "Arguments": ["day_end_time"],
          "Operator": "lessThanOrEqual",
          "Comparison": "now"
        }
      ],
      "Alert": "Attention. It is now after {day_end_time} but you have not stood for a full {stand_day_minimum}. If you continue standing while working, you will be notified when you have stood the full duration.",
      "Targets": ["away", "stand", "sit"],
      "Achieves": []
    },
    "end-day-clock": {
      "Conditions": [
        {
          "Function": "is_state",
          "Arguments": ["stand", "sit"],
          "Operator": "equal",
          "Comparison": true
        },
        {
          "Function": "from_schedule",
          "Arguments": ["day_end_time"],
          "Operator": "lessThanOrEqual",
          "Comparison": "now"
        }
      ],
      "Alert": "Congratulations, it is now after {day_end_time}. That means your work day is over.",
      "Target": ["away"],
      "Achieves": []
    },
    "stand-now-timer": {
      "Conditions": [
        {
          "Function": "is_state",
          "Arguments": ["sit"],
          "Operator": "equal",
          "Comparison": true
        },
        {
          "Function": "time_since",
          "Arguments": ["stand"],
          "Operator": "greaterThanOrEqual",
          "Comparison": "stand_frequency"
        }
      ],
      "Alert": "You have been sitting for at least {stand_frequency}. You should now switch to standing.",
      "Targets": ["stand"],
      "Achieves": []
    },
    "stand-now-maximum": {
      "Conditions": [
        {
          "Function": "is_state",
          "Arguments": ["stand"],
          "Operator": "equal",
          "Comparison": true
        },
        {
          "Function": "time_since",
          "Arguments": ["sit"],
          "Operator": "greaterThanOrEqual",
          "Comparison": "stand_maximum"
        }
      ],
      "Alert": "You have been standing for at least {stand_maximum}, and you may now sit down.",
      "Targets": ["stand", "sit"],
      "Achieves": []
    },
    "cannot-stand-day-minimum": {
      "Conditions": [
        {
          "Function": "is_state",
          "Arguments": ["stand", "sit"],
          "Operator": "equal",
          "Comparison": true
        },
        {
          "Function": "maximum_daily_time",
          "Arguments": ["stand"],
          "Operator": "lessThanOrEqual",
          "Comparison": "stand_day_minimum"
        }
      ],
      "Alert": "Attention. You will not reach your goal of standing for {stand_day_minimum} by {day_end_time} unless you stand the rest of the day.",
      "Targets": ["stand"],
      "Achieves": []
    },
    "away-now-timer": {
      "Conditions": [
        {
          "Function": "is_state",
          "Arguments": ["stand", "sit"],
          "Operator": "equal",
          "Comparison": true
        },
        {
          "Function": "time_since",
          "Arguments": ["away"],
          "Operator": "greaterThanOrEqual",
          "Comparison": "away_frequency"
        }
      ],
      "Alert": "You have been at your desk for at least {away_frequency}. You should now walk away and take a break.",
      "Targets": ["away"],
      "Achieves": []
    },
    "away-now-maximum": {
      "Conditions": [
        {
          "Function": "is_state",
          "Arguments": ["stand", "sit"],
          "Operator": "equal",
          "Comparison": false
        },
        {
          "Function": "time_since",
          "Arguments": ["stand", "sit"],
          "Operator": "greaterThanOrEqual",
          "Comparison": "away_now_maximum"
        }
      ],
      "Alert": "Attention. You have been away for at least {away_now_maximum}. You should now return to your desk.",
      "Targets": ["stand", "sit"],
      "Achieves": []
    }
  },

  "Goals": {
    "work-day-minimum": {
      "Label": "Ensure I work a full day",
      "Description": "Lets you take breaks at your leisure, but warns you when you must work continuously to finish work during scheduled hours. Alerts you when the goal is met, and updates you at the end of scheduled hours.",
      "Sort": 10,
      "Triggers": ["worked-day-minimum", "cannot-work-day-minimum", "failed-work-day-minimum"]
    },
    "work-day-clock": {
      "Label": "Stop working the earliest I can",
      "Description": "Alerts you when the scheduled day ends or you've worked your required number of hours, whichever is first.",
      "Sort": 20,
      "Triggers": ["worked-day-minimum", "end-day-clock"]
    },
    "stand-day-minimum": {
      "Label": "Stand a minimum amount each day",
      "Description": "Lets you stand at your leisure, but warns you when you must stand for the remainder of scheduled hours to meet your goal. Alerts you when the goal is met, and updates you at the end of scheduled hours.",
      "Sort": 30,
      "Triggers": ["stood-day-minimum", "cannot-stand-day-minimum", "failed-stand-day-minimum"]
    },
    "stand-regularly": {
      "Label": "Regularly switch to standing",
      "Description": "Instructs you to stand when you've gone so long without standing. Then notifies you when you may resume sitting.",
      "Sort": 40,
      "Triggers": ["stand-now-timer", "stand-now-maximum"]
    },
    "break-regularly": {
      "Label": "Regularly take a break and walk away",
      "Description": "Instructs you to take a break after working continuously for so long. Then notifies you when it's time to return.",
      "Sort": 50,
      "Triggers": ["away-now-maximum", "cannot-work-day-minimum", "away-now-timer"]
    },
    "break-now-maximum": {
      "Label": "Ensure I am never away too long",
      "Description": "Alerts you any time you have been away from your desk longer than desired.",
      "Sort": 60,
      "Triggers": ["away-now-maximum", "cannot-work-day-minimum"]
    }
  }
}
